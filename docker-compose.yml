version: '3.9'

services:
  cardano-jobs:
    image: cardano-jobs-${NETWORK_NAME}
    restart: always
    build:
      context: .
      args:
        - PRIVATE_MVN_REGISTRY_URL=${PRIVATE_MVN_REGISTRY_URL}
        - PRIVATE_MVN_REGISTRY_USER=${PRIVATE_MVN_REGISTRY_USER}
        - PRIVATE_MVN_REGISTRY_PASS=${PRIVATE_MVN_REGISTRY_PASS}
    environment:
      - SPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE}
      - SERVER_PORT=${SERVER_PORT}

      - POSTGRES_SCHEMA=${POSTGRES_SCHEMA}
      - MAXIMUM_POOL_SIZE=${MAXIMUM_POOL_SIZE}
      - META_DATA_JOB_ENABLED=${META_DATA_JOB_ENABLED}
      - REPORT_HISTORY_JOB_ENABLED=${REPORT_HISTORY_JOB_ENABLED}
      - SET_EXPIRED_REPORTS_DELAY=${SET_EXPIRED_REPORTS_DELAY}
      - LIMIT_CONTENT_PER_SHEET=${LIMIT_CONTENT_PER_SHEET}
      - POOL_OFFLINE_DATA_JOB_ENABLED=${POOL_OFFLINE_DATA_JOB_ENABLED}
      - CRAWL_POOL_DATA_DELAY=${CRAWL_POOL_DATA_DELAY}
      - TOKEN_METADATA_URL=${TOKEN_METADATA_URL}
      - TOKEN_METADATA_FOLDER=${TOKEN_METADATA_FOLDER}
      - NETWORK_NAME=${NETWORK_NAME}
      - KAFKA_CONFIGURATION_ENABLED=${KAFKA_CONFIGURATION_ENABLED}
      - KAFKA_BOOSTRAP_SERVER_URL=${KAFKA_BOOSTRAP_SERVER_URL}
      - KAFKA_GROUP_ID=${KAFKA_GROUP_ID}
      - KAFKA_REPORTS_TOPIC=${KAFKA_REPORTS_TOPIC}

      - REPORT_S3_ACCESS_KEY=${REPORT_S3_ACCESS_KEY}
      - REPORT_S3_SECRET_KEY=${REPORT_S3_SECRET_KEY}
      - REPORT_S3_REGION=${REPORT_S3_REGION}
      - REPORT_S3_BUCKET_NAME=${REPORT_S3_BUCKET_NAME}
      - REPORT_S3_STORAGE_ENDPOINT=${REPORT_S3_STORAGE_ENDPOINT}

      - TOKEN_LOGO_S3_ACCESS_KEY=${TOKEN_LOGO_S3_ACCESS_KEY}
      - TOKEN_LOGO_S3_SECRET_KEY=${TOKEN_LOGO_S3_SECRET_KEY}
      - TOKEN_LOGO_S3_REGION=${TOKEN_LOGO_S3_REGION}
      - TOKEN_LOGO_S3_BUCKET_NAME=${TOKEN_LOGO_S3_BUCKET_NAME}
      - TOKEN_LOGO_S3_STORAGE_ENDPOINT=${TOKEN_LOGO_S3_STORAGE_ENDPOINT}

      - API_CHECK_REWARD_URL=${API_CHECK_REWARD_URL}
      - API_CHECK_POOL_HISTORY_URL=${API_CHECK_POOL_HISTORY_URL}
      - REDIS_SENTINEL_MASTER_NAME=${REDIS_SENTINEL_MASTER_NAME}
      - REDIS_SENTINEL_PASSWORD=${REDIS_SENTINEL_PASSWORD}
      - REDIS_SENTINEL_HOST=${REDIS_SENTINEL_HOST}
      - REDIS_SENTINEL_PORT=${REDIS_SENTINEL_PORT}
      - TOP_DELEGATORS_FIXED_DELAY=${TOP_DELEGATORS_FIXED_DELAY}
      - POOL_STATUS_FIXED_DELAY=${POOL_STATUS_FIXED_DELAY}
      - NUMBER_DELEGATOR_FIXED_DELAY=${NUMBER_DELEGATOR_FIXED_DELAY}
      - UNIQUE_ACCOUNT_FIXED_DELAY=${UNIQUE_ACCOUNT_FIXED_DELAY}
      - UNIQUE_ACCOUNT_ENABLED=${UNIQUE_ACCOUNT_ENABLED}
      - STAKE_TX_BALANCE_JOB_ENABLED=${STAKE_TX_BALANCE_JOB_ENABLED}
      - STAKE_TX_BALANCE_FIXED_DELAY=${STAKE_TX_BALANCE_FIXED_DELAY}
      - AGGREGATE_POOL_INFO_FIXED_DELAY=${AGGREGATE_POOL_INFO_FIXED_DELAY}
      - TOKEN_INFO_JOB_ENABLED=${TOKEN_INFO_JOB_ENABLED}
      - TOKEN_INFO_FIXED_DELAY=${TOKEN_INFO_FIXED_DELAY}
      - SMART_CONTRACT_INFO_FIXED_DELAY=${SMART_CONTRACT_INFO_FIXED_DELAY}

      - LEDGER_SYNC_HOST=${LEDGER_SYNC_HOST}
      - LEDGER_SYNC_PORT=${LEDGER_SYNC_PORT}
      - LEDGER_SYNC_DB=${LEDGER_SYNC_DB}
      - LEDGER_SYNC_USER=${LEDGER_SYNC_USER}
      - LEDGER_SYNC_PASSWORD=${LEDGER_SYNC_PASSWORD}
      - LEDGER_SYNC_FLYWAY_ENABLE=${LEDGER_SYNC_FLYWAY_ENABLE}
      - LEDGER_SYNC_FLYWAY_VALIDATE=${LEDGER_SYNC_FLYWAY_VALIDATE}

      - EXPLORER_HOST=${EXPLORER_HOST}
      - EXPLORER_PORT=${EXPLORER_PORT}
      - EXPLORER_DB=${EXPLORER_DB}
      - EXPLORER_USER=${EXPLORER_USER}
      - EXPLORER_PASSWORD=${EXPLORER_PASSWORD}
      - EXPLORER_FLYWAY_ENABLE=${EXPLORER_FLYWAY_ENABLE}
      - EXPLORER_FLYWAY_VALIDATE=${EXPLORER_FLYWAY_VALIDATE}
      - NATIVE_SCRIPT_INFO_FIXED_DELAY=${NATIVE_SCRIPT_INFO_FIXED_DELAY}
